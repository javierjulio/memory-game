(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},35:function(e,t){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n(10),s=n.n(a),o=(n(26),n(2)),l=n(4),i=(n(27),n(16)),u=n.n(i);var j=function(e){var t=e.item,n=e.disableAction,r=e.onOpen,a=["cell","card"];return t.backfaceIsUp&&a.push("toggled"),Object(c.jsxs)("div",{className:a.join(" "),onClick:function(e){n||t.backfaceIsUp||r(t)},children:[Object(c.jsx)("div",{className:"card-front"}),Object(c.jsx)("div",{className:"card-back",children:t.type.toString()})]})};var d,b,m=function(e){var t=e.count,n=1===t?"move":"moves";return Object(c.jsxs)("div",{className:"move-label",children:[t," ",n]})};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O(e,t){var n=e.title,c=e.titleId,a=p(e,["title","titleId"]);return r.createElement("svg",f({viewBox:"0 0 24 24",width:24,height:24,stroke:"currentColor",strokeWidth:2,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"css-i6dzq1",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,d||(d=r.createElement("circle",{cx:12,cy:8,r:7})),b||(b=r.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})))}var h=r.forwardRef(O),v=(n.p,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return new Promise((function(t){return setTimeout.apply(void 0,[t,e].concat(n))}))});var y=function(e){var t=e.puzzle,n=e.onCompleted,a=e.showRecords,s=Object(r.useState)([]),i=Object(l.a)(s,2),u=i[0],d=i[1],b=Object(r.useState)([]),f=Object(l.a)(b,2),p=f[0],O=f[1],y=Object(r.useState)(0),x=Object(l.a)(y,2),g=x[0],k=x[1];Object(r.useEffect)((function(){d(Array.from(t,(function(e,t){return{index:t,type:e.type,backfaceIsUp:!1}}))),k(0),O([])}),[t]);var N=function(e){u[e].backfaceIsUp=!1,d(Object(o.a)(u))},S=function(e){u[e.index].backfaceIsUp=!u[e.index].backfaceIsUp,d(Object(o.a)(u)),p.push(e.index),O(Object(o.a)(p)),p.length>=2&&(k(g+1),u[p[0]].type===u[p[1]].type?(O([]),t.length===u.filter((function(e){return e.backfaceIsUp})).length&&v(600,g+1).then((function(e){n(e)}))):Promise.all([v(600,p[1]).then(N),v(800,p[0]).then(N)]).then((function(){O([])})))};return Object(c.jsxs)("div",{className:"disable-text-selection",children:[Object(c.jsx)("div",{className:"full-grid",children:u.map((function(e,t){return Object(c.jsx)(j,{item:e,onOpen:S,disableAction:p.length>=2},t)}))}),Object(c.jsxs)("div",{className:"footer-bar",children:[Object(c.jsx)(m,{count:g}),Object(c.jsxs)("button",{className:"button",onClick:a,children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)(h,{})}),"Records"]})]})]})},x=n(11),g=n(13),k=function(e,t){return e.reduce((function(e,n){var c="function"===typeof t?t(n):n[t];return e.hasOwnProperty(c)||(e[c]=[]),e[c].push(n),e}),{})};var N=function(e){var t=e.data,n=function(e,t){return parseInt(e)-parseInt(t)};return Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Moves"}),Object(c.jsx)("th",{children:"Games"}),Object(c.jsx)("th",{children:"Last Played"})]})}),Object(c.jsx)("tbody",{children:function(){var e=k(t||[],"moveCount");return 0===Object.keys(e).length?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:"3",className:"text-muted text-center",children:"No games played"})}):Object.keys(e).sort(n).map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t}),Object(c.jsx)("td",{children:e[t].length}),Object(c.jsx)("td",{children:(n=Math.max.apply(Math,Object(o.a)(e[t].map((function(e){return e.timestamp})))),new Date(n).toLocaleDateString(navigator.language,{year:"numeric",month:"short",day:"numeric"}))})]},t);var n}))}()})]})};var S=function(e){var t=e.data,n=e.isOpen,r=e.onClose,a=e.onDismiss,s=Object(x.a)(g.b),o=Object(x.a)(g.a),l=Object(x.b)(n,null,{from:{overlayOpacity:0,contentTransform:"translateY(102%)"},enter:{overlayOpacity:.5,contentTransform:"translateY(0)"},leave:{overlayOpacity:0,contentTransform:"translateY(102%)"}});return Object(c.jsx)(c.Fragment,{children:l.map((function(e){var n=e.item,l=e.props,i=e.key;return n&&Object(c.jsx)(s,{dangerouslyBypassFocusLock:!0,dangerouslyBypassScrollLock:!0,onDismiss:a,className:"modal-overlay",style:{"--opacity":l.overlayOpacity},children:Object(c.jsxs)(o,{"aria-labelledby":"Records Table",className:"modal",style:{transform:l.contentTransform},children:[Object(c.jsx)("div",{className:"modal-header",children:Object(c.jsx)("button",{className:"button modal-close-button",onClick:r,children:"Close"})}),Object(c.jsxs)("div",{className:"records-list",children:[Object(c.jsx)("p",{className:"text-muted",children:"Your objective is to solve puzzles in the fewest moves possible."}),Object(c.jsx)(N,{data:t})]})]})},i)}))})};var w=function(){var e=function(){var e=Date.now().toString(36),t=u()(e),n=[[4,4]],c=Object(l.a)(n[Math.floor(t()*n.length)],2),r=c[0],a=c[1],s=new Array(r*a/2).fill().map((function(e,t){return t+1}));return s.push.apply(s,Object(o.a)(s)),{seed:e,puzzle:Array.from({length:s.length},(function(){var e=Math.floor(t()*s.length);return{type:s.splice(e,1)[0]}}))}};Object(r.useEffect)((function(){s(e())}),[]);var t=Object(r.useState)({seed:"",puzzle:[]}),n=Object(l.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)((function(){return JSON.parse(localStorage.getItem("completedGames"))||[]})),j=Object(l.a)(i,2),d=j[0],b=j[1],m=function(){s(e())},f=Object(r.useState)(!1),p=Object(l.a)(f,2),O=p[0],h=p[1],v=function(){return h(!1)};return Object(c.jsxs)("div",{className:"app-container",children:[Object(c.jsx)(y,{puzzle:a.puzzle,onCompleted:function(e){alert("You won in ".concat(e," moves!")),function(e){var t=JSON.parse(localStorage.getItem("completedGames"))||[];t.push({itemCount:a.puzzle.length,moveCount:e,timestamp:Date.now(),seed:a.seed}),localStorage.setItem("completedGames",JSON.stringify(t)),b(Object(o.a)(t))}(e),m()},showRecords:function(){return h(!0)}}),Object(c.jsx)(S,{data:d,isOpen:O,onClose:v,onDismiss:v})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(c.jsx)(r.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),I()}},[[38,1,2]]]);
//# sourceMappingURL=main.b96ab28c.chunk.js.map