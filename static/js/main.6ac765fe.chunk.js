(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{34:function(e,t,n){},36:function(e,t,n){},44:function(e,t){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n(15),s=n.n(a),o=(n(34),n(13)),i=n.n(o),l=n(16),u=n(2),j=n(9),d=(n(36),n(23)),b=n.n(d);var f=function(e){var t=e.item,n=e.disableAction,c=e.onOpen,a=["cell","card"];return t.backfaceIsUp&&a.push("toggled"),Object(r.jsxs)("div",{className:a.join(" "),onClick:function(e){n||t.backfaceIsUp||c(t)},children:[Object(r.jsx)("div",{className:"card-front"}),Object(r.jsx)("div",{className:"card-back",children:t.type.toString()})]})};var m,p,O=function(e){var t=e.count,n=1===t?"move":"moves";return Object(r.jsxs)("div",{className:"move-label",children:[t," ",n]})};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function y(e,t){var n=e.title,r=e.titleId,a=v(e,["title","titleId"]);return c.createElement("svg",h({viewBox:"0 0 24 24",width:24,height:24,stroke:"currentColor",strokeWidth:2,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"css-i6dzq1",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,m||(m=c.createElement("circle",{cx:12,cy:8,r:7})),p||(p=c.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})))}var x=c.forwardRef(y),g=(n.p,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t){return setTimeout.apply(void 0,[t,e].concat(n))}))});var k=function(e){var t=e.puzzle,n=e.onCompleted,a=e.showRecords,s=Object(c.useState)([]),o=Object(j.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)([]),b=Object(j.a)(d,2),m=b[0],p=b[1],h=Object(c.useState)(0),v=Object(j.a)(h,2),y=v[0],k=v[1];Object(c.useEffect)((function(){l(Array.from(t,(function(e,t){return{index:t,type:e.type,backfaceIsUp:!1}}))),k(0),p([])}),[t]);var w=function(e){i[e].backfaceIsUp=!1,l(Object(u.a)(i))},N=function(e){i[e.index].backfaceIsUp=!i[e.index].backfaceIsUp,l(Object(u.a)(i)),m.push(e.index),p(Object(u.a)(m)),m.length>=2&&(k(y+1),i[m[0]].type===i[m[1]].type?(p([]),t.length===i.filter((function(e){return e.backfaceIsUp})).length&&g(600,y+1).then((function(e){n(e)}))):Promise.all([g(600,m[1]).then(w),g(800,m[0]).then(w)]).then((function(){p([])})))};return Object(r.jsxs)("div",{className:"disable-text-selection",children:[Object(r.jsx)("div",{className:"full-grid",children:i.map((function(e,t){return Object(r.jsx)(f,{item:e,onOpen:N,disableAction:m.length>=2},t)}))}),Object(r.jsxs)("div",{className:"footer-bar",children:[Object(r.jsx)(O,{count:y}),Object(r.jsxs)("button",{className:"button",onClick:a,children:[Object(r.jsx)("span",{className:"icon",children:Object(r.jsx)(x,{})}),"Records"]})]})]})},w=n(17),N=n(20),C=function(e,t){return e.reduce((function(e,n){var r="function"===typeof t?t(n):n[t];return e.hasOwnProperty(r)||(e[r]=[]),e[r].push(n),e}),{})},z=n(24),I=n(4),S=n(6),L=n(5),P=new(function(e){Object(S.a)(n,e);var t=Object(L.a)(n);function n(){var e;return Object(I.a)(this,n),(e=t.call(this,"MemoryGame")).version(1).stores({completedGames:"++id, itemCount, moveCount"}),e}return n}(n(19).default));var D=function(){var e=Object(z.useLiveQuery)((function(){return P.completedGames.toArray()}));if(!e)return null;var t=function(e,t){return parseInt(e)-parseInt(t)};return Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Moves"}),Object(r.jsx)("th",{children:"Games"}),Object(r.jsx)("th",{children:"Last Played"})]})}),Object(r.jsx)("tbody",{children:function(){var n=C(e||[],"moveCount");return 0===Object.keys(n).length?Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:"3",className:"text-muted text-center",children:"No games played"})}):Object.keys(n).sort(t).map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e}),Object(r.jsx)("td",{children:n[e].length}),Object(r.jsx)("td",{children:(t=Math.max.apply(Math,Object(u.a)(n[e].map((function(e){return e.timestamp})))),new Date(t).toLocaleDateString(navigator.language,{year:"numeric",month:"short",day:"numeric"}))})]},e);var t}))}()})]})},E=Object(w.a)(N.b),T=Object(w.a)(N.a);var A=function(e){var t=e.isOpen,n=e.onClose,c=e.onDismiss,a=Object(w.b)(t,null,{from:{overlayOpacity:0,contentTransform:"translateY(102%)"},enter:{overlayOpacity:.5,contentTransform:"translateY(0%)"},leave:{overlayOpacity:0,contentTransform:"translateY(102%)"}});return Object(r.jsx)(r.Fragment,{children:a.map((function(e){var t=e.item,a=e.props,s=e.key;return t&&Object(r.jsx)(E,{dangerouslyBypassFocusLock:!0,dangerouslyBypassScrollLock:!0,onDismiss:c,className:"modal-overlay",style:{"--opacity":a.overlayOpacity},children:Object(r.jsxs)(T,{"aria-labelledby":"Records Table",className:"modal",style:{transform:a.contentTransform},children:[Object(r.jsx)("div",{className:"modal-header",children:Object(r.jsx)("button",{className:"button modal-close-button",onClick:n,children:"Close"})}),Object(r.jsxs)("div",{className:"records-list",children:[Object(r.jsx)("p",{className:"text-muted",children:"Your objective is to solve puzzles in the fewest moves possible."}),Object(r.jsx)(D,{})]})]})},s)}))})};var M=function(){var e=function(){var e=Date.now().toString(36),t=b()(e),n=[[4,4]],r=Object(j.a)(n[Math.floor(t()*n.length)],2),c=r[0],a=r[1],s=new Array(c*a/2).fill().map((function(e,t){return t+1}));return s.push.apply(s,Object(u.a)(s)),{seed:e,puzzle:Array.from({length:s.length},(function(){var e=Math.floor(t()*s.length);return{type:s.splice(e,1)[0]}}))}};Object(c.useEffect)((function(){s(e())}),[]);var t=Object(c.useState)({seed:"",puzzle:[]}),n=Object(j.a)(t,2),a=n[0],s=n[1],o=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.completedGames.add({itemCount:a.puzzle.length,moveCount:t,timestamp:Date.now(),seed:a.seed});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){s(e())},f=Object(c.useState)(!1),m=Object(j.a)(f,2),p=m[0],O=m[1],h=function(){return O(!1)};return Object(r.jsxs)("div",{className:"app-container",children:[Object(r.jsx)(k,{puzzle:a.puzzle,onCompleted:function(e){alert("You won in ".concat(e," moves!")),o(e),d()},showRecords:function(){return O(!0)}}),Object(r.jsx)(A,{isOpen:p,onClose:h,onDismiss:h})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(r.jsx)(c.StrictMode,{children:Object(r.jsx)(M,{})}),document.getElementById("root")),U()}},[[47,1,2]]]);
//# sourceMappingURL=main.6ac765fe.chunk.js.map