(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},29:function(e,t){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n(10),s=n.n(a),o=(n(20),n(3)),i=n(5),l=(n(21),n(12)),u=n.n(l);var j=function(e){var t=e.item,n=e.disableAction,r=e.onOpen,a=["cell","card"];return t.backfaceIsUp&&a.push("toggled"),Object(c.jsxs)("div",{className:a.join(" "),onClick:function(e){n||t.backfaceIsUp||r(t)},children:[Object(c.jsx)("div",{className:"card-front"}),Object(c.jsx)("div",{className:"card-back",children:t.type.toString()})]})};var d=function(e){var t=e.count,n=1===t?"move":"moves";return Object(c.jsxs)("div",{className:"move-label",children:[t," ",n]})};function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.createElement("circle",{cx:12,cy:8,r:7}),m=r.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"});function h(e,t){var n=e.title,c=e.titleId,a=f(e,["title","titleId"]);return r.createElement("svg",b({viewBox:"0 0 24 24",width:24,height:24,stroke:"currentColor",strokeWidth:2,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"css-i6dzq1",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,p,m)}var O=r.forwardRef(h),v=(n.p,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return new Promise((function(t){return setTimeout.apply(void 0,[t,e].concat(n))}))});var x=function(e){var t=e.puzzle,n=e.onCompleted,a=e.showRecords,s=Object(r.useState)([]),l=Object(i.a)(s,2),u=l[0],b=l[1],f=Object(r.useState)([]),p=Object(i.a)(f,2),m=p[0],h=p[1],x=Object(r.useState)(0),g=Object(i.a)(x,2),y=g[0],k=g[1];Object(r.useEffect)((function(){b(Array.from(t,(function(e,t){return{index:t,type:e.type,backfaceIsUp:!1}}))),k(0),h([])}),[t]);var N=function(e){u[e].backfaceIsUp=!1,b(Object(o.a)(u))},S=function(e){u[e.index].backfaceIsUp=!u[e.index].backfaceIsUp,b(Object(o.a)(u)),m.push(e.index),h(Object(o.a)(m)),m.length>=2&&(k(y+1),u[m[0]].type===u[m[1]].type?(h([]),t.length===u.filter((function(e){return e.backfaceIsUp})).length&&v(600,y+1).then((function(e){n(e)}))):Promise.all([v(600,m[1]).then(N),v(800,m[0]).then(N)]).then((function(){h([])})))};return Object(c.jsxs)("div",{className:"disable-text-selection",children:[Object(c.jsx)("div",{className:"full-grid",children:u.map((function(e,t){return Object(c.jsx)(j,{item:e,onOpen:S,disableAction:m.length>=2},t)}))}),Object(c.jsxs)("div",{className:"footer-bar",children:[Object(c.jsx)(d,{count:y}),Object(c.jsxs)("button",{className:"button",onClick:a,children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)(O,{})}),"Records"]})]})]})},g=n(14),y=n(4);function k(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){var e,t=JSON.parse(localStorage.getItem("completedGames"))||[],n=(e="moveCount",t.reduce((function(t,n){var c="function"===typeof e?e(n):n[e];return t.hasOwnProperty(c)||(t[c]=[]),t[c].push(n),t}),{}));a(n)}),[]);return Object(c.jsxs)("div",{className:"records-list",children:[Object(c.jsx)("p",{className:"text-muted",children:"Your objective is to solve puzzles in the fewest moves possible."}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Moves"}),Object(c.jsx)("th",{children:"Games"}),Object(c.jsx)("th",{children:"Last Played"})]})}),Object(c.jsx)("tbody",{children:function(){if(0===Object.keys(n).length)return Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:"3",className:"text-muted text-center",children:"No games played"})});return Object.keys(n).sort((function(e,t){return parseInt(e)-parseInt(t)})).map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:n[e].length}),Object(c.jsx)("td",{children:(t=Math.max.apply(Math,Object(o.a)(n[e].map((function(e){return e.timestamp})))),new Date(t).toLocaleDateString(navigator.language,{year:"numeric",month:"short",day:"numeric"}))})]},e);var t}))}()})]})]})}var N=function(){var e=function(){var e=Date.now().toString(36),t=u()(e),n=[[4,4]],c=Object(i.a)(n[Math.floor(t()*n.length)],2),r=c[0],a=c[1],s=new Array(r*a/2).fill().map((function(e,t){return t+1}));return s.push.apply(s,Object(o.a)(s)),{seed:e,puzzle:Array.from({length:s.length},(function(){var e=Math.floor(t()*s.length);return{type:s.splice(e,1)[0]}}))}};Object(r.useEffect)((function(){s(e())}),[]);var t=Object(r.useState)({seed:"",puzzle:[]}),n=Object(i.a)(t,2),a=n[0],s=n[1],l=function(){s(e())},j=Object(r.useState)(!1),d=Object(i.a)(j,2),b=d[0],f=d[1],p=Object(y.b)(b,null,{from:{transform:"translateY(102%) translateX(-50%)",opacity:.7},enter:{transform:"translateY(0) translateX(-50%)",opacity:1},leave:{transform:"translateY(102%) translateX(-50%)",opacity:.5}});return Object(c.jsxs)("div",{className:"app-container",children:[Object(c.jsx)(x,{puzzle:a.puzzle,onCompleted:function(e){alert("You won in ".concat(e," moves!"));var t=JSON.parse(localStorage.getItem("completedGames"))||[];t.push({itemCount:a.puzzle.length,moveCount:e,timestamp:Date.now(),seed:a.seed}),localStorage.setItem("completedGames",JSON.stringify(t)),l()},showRecords:function(){f(!0)}}),Object(c.jsxs)(g.a,{isOpen:b,onRequestClose:function(){return f(!1)},modalTransition:p,children:[Object(c.jsx)("div",{className:"modal-header",children:Object(c.jsx)("button",{className:"button modal-close-button",onClick:function(){return f(!1)},children:"Close"})}),Object(c.jsx)(k,{})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(c.jsx)(r.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),S()}},[[31,1,2]]]);
//# sourceMappingURL=main.e7f74db0.chunk.js.map