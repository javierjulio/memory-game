(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},29:function(e,t){},31:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n(10),s=n.n(a),o=(n(20),n(3)),i=n(5),l=(n(21),n(12)),u=n.n(l);var j=function(e){var t=e.item,n=e.disableAction,c=e.onOpen,a=["cell","card"];return t.backfaceIsUp&&a.push("toggled"),Object(r.jsxs)("div",{className:a.join(" "),onClick:function(e){n||t.backfaceIsUp||c(t)},children:[Object(r.jsx)("div",{className:"card-front"}),Object(r.jsx)("div",{className:"card-back",children:t.type.toString()})]})};var d=function(e){var t=e.count,n=1===t?"move":"moves";return Object(r.jsxs)("div",{className:"move-label",children:[t," ",n]})};function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var p=c.createElement("circle",{cx:12,cy:8,r:7}),m=c.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"});function h(e,t){var n=e.title,r=e.titleId,a=f(e,["title","titleId"]);return c.createElement("svg",b({viewBox:"0 0 24 24",width:24,height:24,stroke:"currentColor",strokeWidth:2,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"css-i6dzq1",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,p,m)}var O=c.forwardRef(h),v=(n.p,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t){return setTimeout.apply(void 0,[t,e].concat(n))}))});var x=function(e){var t=e.puzzle,n=e.onCompleted,a=e.showRecords,s=Object(c.useState)([]),l=Object(i.a)(s,2),u=l[0],b=l[1],f=Object(c.useState)([]),p=Object(i.a)(f,2),m=p[0],h=p[1],x=Object(c.useState)(0),g=Object(i.a)(x,2),y=g[0],w=g[1];Object(c.useEffect)((function(){b(Array.from(t,(function(e,t){return{index:t,type:e.type,backfaceIsUp:!1}}))),w(0),h([])}),[t]);var k=function(e){u[e].backfaceIsUp=!1,b(Object(o.a)(u))},S=function(e){u[e.index].backfaceIsUp=!u[e.index].backfaceIsUp,b(Object(o.a)(u)),m.push(e.index),h(Object(o.a)(m)),m.length>=2&&(w(y+1),u[m[0]].type===u[m[1]].type?(h([]),t.length===u.filter((function(e){return e.backfaceIsUp})).length&&v(600,y+1).then((function(e){n(e)}))):Promise.all([v(600,m[1]).then(k),v(800,m[0]).then(k)]).then((function(){h([])})))};return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"full-grid disable-text-selection",children:u.map((function(e,t){return Object(r.jsx)(j,{item:e,onOpen:S,disableAction:m.length>=2},t)}))}),Object(r.jsxs)("div",{className:"footer-bar",children:[Object(r.jsx)(d,{count:y}),Object(r.jsxs)("button",{className:"button",onClick:a,children:[Object(r.jsx)("span",{className:"icon",children:Object(r.jsx)(O,{})}),"Records"]})]})]})},g=n(14),y=n(4);function w(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){var e,t=JSON.parse(localStorage.getItem("completedGames"))||[],n=(e="moveCount",t.reduce((function(t,n){var r="function"===typeof e?e(n):n[e];return t.hasOwnProperty(r)||(t[r]=[]),t[r].push(n),t}),{}));a(n)}),[]);return Object(r.jsxs)("div",{className:"records-list",children:[Object(r.jsx)("p",{style:{marginTop:"1rem"},className:"text-muted",children:"Your objective is to solve puzzles in the fewest moves possible."}),Object(r.jsxs)("table",{style:{marginTop:"30px"},children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Moves"}),Object(r.jsx)("th",{children:"Games"}),Object(r.jsx)("th",{children:"Last Played"})]})}),Object(r.jsx)("tbody",{children:function(){if(0===Object.keys(n).length)return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:"3",className:"text-muted text-center",children:"No games played"})});return Object.keys(n).sort((function(e,t){return parseInt(e)-parseInt(t)})).map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e}),Object(r.jsx)("td",{children:n[e].length}),Object(r.jsx)("td",{children:(t=Math.max.apply(Math,Object(o.a)(n[e].map((function(e){return e.timestamp})))),new Date(t).toLocaleDateString(navigator.language,{year:"numeric",month:"short",day:"numeric"}))})]},e);var t}))}()})]})]})}var k=function(){var e=function(){var e=Date.now().toString(36),t=u()(e),n=[[4,4]],r=Object(i.a)(n[Math.floor(t()*n.length)],2),c=r[0],a=r[1],s=new Array(c*a/2).fill().map((function(e,t){return t+1}));return s.push.apply(s,Object(o.a)(s)),{seed:e,puzzle:Array.from({length:s.length},(function(){var e=Math.floor(t()*s.length);return{type:s.splice(e,1)[0]}}))}};Object(c.useEffect)((function(){s(e())}),[]);var t=Object(c.useState)({seed:"",puzzle:[]}),n=Object(i.a)(t,2),a=n[0],s=n[1],l=function(){s(e())},j=Object(c.useState)(!1),d=Object(i.a)(j,2),b=d[0],f=d[1],p=Object(y.b)(b,null,{from:{transform:"translateY(102%) translateX(-50%)",opacity:.7},enter:{transform:"translateY(0) translateX(-50%)",opacity:1},leave:{transform:"translateY(102%) translateX(-50%)",opacity:.5}});return Object(r.jsxs)("div",{className:"app-container",children:[Object(r.jsx)(x,{puzzle:a.puzzle,onCompleted:function(e){alert("You won in ".concat(e," moves!"));var t=JSON.parse(localStorage.getItem("completedGames"))||[];t.push({itemCount:a.puzzle.length,moveCount:e,timestamp:Date.now(),seed:a.seed}),localStorage.setItem("completedGames",JSON.stringify(t)),l()},showRecords:function(){f(!0)}}),Object(r.jsxs)(g.a,{isOpen:b,onRequestClose:function(){return f(!1)},modalTransition:p,children:[Object(r.jsx)("div",{style:{padding:"1rem",textAlign:"center",width:"100%"},children:Object(r.jsx)("button",{style:{width:"80%",justifyContent:"center"},className:"button",onClick:function(){return f(!1)},children:"Close"})}),Object(r.jsx)(w,{})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(r.jsx)(c.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),S()}},[[31,1,2]]]);
//# sourceMappingURL=main.286d0b13.chunk.js.map